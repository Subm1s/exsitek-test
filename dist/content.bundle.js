!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t){for(var n,o,r,a,c=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],c=0,u=a.length;c<u;c++,r++)o[r]=a[c];return o},u={getWord:function(e){var t,n=this;t="Space"===o.code?e:e.slice(0,-1),this.removePopup(),chrome.storage.sync.get("words",(function(e){var o=e.words;o&&(a=o.find((function(e){return e.word.toLocaleLowerCase()===t.toLocaleLowerCase()}))),a&&n.createPopup(a.variant)}))},createPopup:function(e){var t=this;this.removePopup();var o=document.createElement("div");o.className="buttonWrapper",n.after(o),e.map((function(e){var n=document.createElement("button");n.className="buttonVariant",n.textContent=e,o.appendChild(n),n.addEventListener("click",(function(e){var n=e.target;t.replaceWord(n)}))}))},removePopup:function(){var e=document.querySelector(".buttonWrapper");e&&e.remove()},replaceWord:function(e){(r[r.length-1]=e.textContent,"INPUT"===n.tagName||"TEXTAREA"===n.tagName)?n.value=r.join(" ").concat(o.key):"DIV"===n.tagName&&(n.textContent=r.join(" ").concat(o.key));n.focus(),this.removePopup()},replaceSelectWord:function(){}},i=document.getSelection(),l=(i.anchorNode,i.anchorOffset,i.focusNode,i.focusOffset,c(Array.from(document.querySelectorAll('input[type="text"]')),Array.from(document.querySelectorAll("textarea")),Array.from(document.querySelectorAll('div[contenteditable="true"]')))),d=["Comma","Period","Comma","Semicolon","Semicolon shiftKey","Enter","Slash","Slash shiftKey"],f=function(e){e.addEventListener("keyup",(function(e){d.includes(e.code)&&m(e)})),e.addEventListener("keydown",(function(e){"Space"===e.code&&m(e)})),e.addEventListener("keydown",(function(e){"Backspace"===e.code&&u.removePopup()})),e.addEventListener("mouseup",(function(t){var n=window.getSelection();if(""!==n.toString().trim()){var o=n.getRangeAt(0),r=e;console.log(r),o.surroundContents(r),o.deleteContents(),o.insertNode(document.createTextNode("Change words"))}}))},s=0,p=l;s<p.length;s++){f(p[s])}function m(e){var t=e.target;o=e,"INPUT"===t.tagName||"TEXTAREA"===t.tagName?r=t.value.replace("\n"," ").trim().split(" "):"DIV"===t.tagName&&(r=t.textContent.replace("\n"," ").trim().split(" ")),n=t,u.getWord(r.at(-1))}}});
//# sourceMappingURL=content.bundle.js.map